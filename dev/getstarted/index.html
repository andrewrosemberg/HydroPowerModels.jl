<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · HydroPowerModels.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://andrewrosemberg.github.io/HydroPowerModels.jl/getstarted/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HydroPowerModels.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Manual</a><ul class="internal"><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#Getting-Results"><span>Getting Results</span></a></li><li><a class="tocitem" href="#Plotting-Results"><span>Plotting Results</span></a></li></ul></li><li><a class="tocitem" href="../inputfiles/">Case data</a></li><li><a class="tocitem" href="../examples/cases/">Examples</a></li><li><a class="tocitem" href="../apireference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Manual</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/andrewrosemberg/HydroPowerModels.jl/blob/master/docs/src/getstarted.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><p>Once PowerModels, SDDP and a solver (like GLPK or Ipopt) are installed, and a case data folder (e.g. &quot;case3&quot;) has been acquired, an Hydrothermal Multistage Steady-State Power Network Optimization can be executed.</p><p>First import the necessary packages:</p><pre><code class="language-julia hljs">using HydroPowerModels
using Ipopt, GLPK</code></pre><p>Load Case by passing the respective folder:</p><pre><code class="language-julia hljs">data = HydroPowerModels.parse_folder(&quot;case3_folderpath&quot;)</code></pre><p>Set Parameters to run, for example, an DC Economic Hydrothermal Dispatch:</p><pre><code class="language-julia hljs">params = create_param( stages = 12, 
                    model_constructor_grid  = DCPPowerModel,
                    post_method             = PowerModels.build_opf,
                    optimizer               = GLPK.Optimizer
);</code></pre><p>Build the Model and execute the SDDP method:</p><pre><code class="language-julia hljs">m = hydrothermaloperation(data, params)

HydroPowerModels.train(m;iteration_limit = 60);</code></pre><p>Simulate 100 Instances of the problem:</p><pre><code class="language-julia hljs">results = HydroPowerModels.simulate(m, 100);</code></pre><h2 id="Getting-Results"><a class="docs-heading-anchor" href="#Getting-Results">Getting Results</a><a id="Getting-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Results" title="Permalink"></a></h2><p>The simulate command in HydroPowerModels returns a detailed execution data in the form of a dictionary.</p><p>For example, the algorithm&#39;s runtime and original case data can be accessed with:</p><pre><code class="language-julia hljs">results[:solve_time]
results[:data]</code></pre><p>Simulation results are found in the simulations array inside the dictionary, which every element is an array containing information of all stages. For example, information about the 10th simulation, as objective value and sampled noise of the first stage, may be accessed with:</p><pre><code class="language-julia hljs">results[:simulations][10][1][:objective]
results[:simulations][10][1][:noise_term]</code></pre><p>The <code>:powersystem</code> field contains detailed information about the grid solution returned by the PowerModels package, like generation and bus informations (inside the subitem &quot;solution&quot;) and status (&quot;OPTIMAL&quot;, &quot;INFEASIBLE&quot;,...) of the solution execution. For example, the status of the solution execution and the active generation of the 2th generator on the jth stage and ith simulation can be inspect by:</p><pre><code class="language-julia hljs">results[:simulations][1][2][:powersystem][&quot;termination_status&quot;]

results[:simulations][i][j][:powersystem][&quot;solution&quot;][&quot;gen&quot;][&quot;2&quot;][&quot;pg&quot;]</code></pre><p>Reservoirs menagement information, like outflow and spillage, are found inside the <code>:reservoirs</code> field:</p><pre><code class="language-julia hljs">results[:simulations][i][j][:reservoirs][:outflow]

results[:simulations][i][j][:reservoirs][:spill]</code></pre><h2 id="Plotting-Results"><a class="docs-heading-anchor" href="#Plotting-Results">Plotting Results</a><a id="Plotting-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-Results" title="Permalink"></a></h2><p>In order to plot the results returned by the simulate function, you may choose from a variety of methods.</p><p>The function ’plotresults()’ receives a results dictionary and generates the most common plots for a hydrothermal dispatch: </p><pre><code class="language-julia hljs">HydroPowerModels.plotresults(results)</code></pre><p>Otherwise, it helps to organize values of a variable for all simulations and stages into a matrix and then plot using the  &#39;plotscenarios&#39;. The &#39;plotscenarios&#39; function indicates the median and the following quantiles: [5%, 15%, 25%, 75%, 85%, 95%]. For example, to plot the values of the active generation of the 1st generator:</p><pre><code class="language-julia hljs">baseMVA =  [results[:simulations][i][j][:powersystem][&quot;solution&quot;][&quot;baseMVA&quot;] for i=1:100, j=1:12]&#39;

scen_gen = [results[:simulations][i][j][:powersystem][&quot;solution&quot;][&quot;gen&quot;][&quot;$gen&quot;][&quot;pg&quot;] for i=1:100, j=1:12]&#39;.*baseMVA

HydroPowerModels.plotscenarios(scen_gen, title  = &quot;Thermal Generation 1&quot;,
                ylabel = &quot;MW&quot;,
                xlabel = &quot;Stages&quot;,
                bottom_margin = 10mm,
                right_margin = 10mm,
                left_margin = 10mm                
                )</code></pre><p>For those familiar with other plot functions may use them with no big dificulty.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../inputfiles/">Case data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 3 March 2023 04:17">Friday 3 March 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
